(()=>{"use strict";const e=()=>{const e=document.createElement("div");return e.classList.add("heart"),e},t=(()=>{let e=0,t=0;const o=[],c={x:50,y:50};return{getRocket:e=>c[e],setRocket:(e,t)=>c[e]=t,removeAsteroid:(e,t)=>{setTimeout((()=>{r.removeElement(o[e].getUI()),o.splice(e,1)}),t-50)},addAsteroid:e=>o.push(e),getAsteroids:()=>o,getTime:()=>t,addTime:()=>t++,getLives:()=>e,updateLives:t=>e+=t,gameOn:()=>!0}})(),o=(()=>{const e=e=>{t.updateLives(e),r.updateHearts()},o=()=>{r.appendElement(((e,t)=>{const o=document.createElement("div");return o.classList.add("rocket"),o.style.left="50%",o.style.bottom="calc(50% - 69px)",o})())};return{checkMove:e=>{if(t.gameOn()){if("ArrowLeft"==e||"a"==e){if(20==t.getRocket("x"))return;t.setRocket("x",t.getRocket("x")-5)}else if("ArrowRight"==e||"d"==e){if(80==t.getRocket("x"))return;t.setRocket("x",t.getRocket("x")+5)}else if("ArrowUp"==e||"w"==e){if(75==t.getRocket("y"))return;t.setRocket("y",t.getRocket("y")+5)}else if("ArrowDown"==e||"s"==e){if(25==t.getRocket("y"))return;t.setRocket("y",t.getRocket("y")-5)}r.moveRocket()}},checkCrash:()=>{t.getAsteroids().forEach((e=>{}))},createAsteroid:()=>{let e=3-1.2*Math.log10(t.getTime()),o=t.getAsteroids().length;t.addAsteroid(((e,t)=>{let o=((e,t,o)=>{const r=document.createElement("div");return r.classList.add("asteroid"),r.style.left=e+"%",r.style.bottom="100%",r.style.animationDuration=o+"s",r})(Math.floor(60*Math.random()+20),0,e);return r.appendElement(o),{getLocation:e=>"x"==e?o.left:o.bottom,getIndex:()=>t,getUI:()=>o}})(e)),t.removeAsteroid(o,1e3*e)},createRocket:o,changeLives:e,startGame:()=>{setInterval((()=>{t.addTime(),r.updateScore()}),1e3),e(3),o(),r.startRocket(),r.start()}}})(),r=(()=>{const r=document.querySelector("#container"),c=document.querySelector("#score"),s=document.querySelector(".hearts");let n;return{moveRocket:()=>{n.style.left=t.getRocket("x")+"%",n.style.bottom="calc("+t.getRocket("y")+"% - 69px)"},appendElement:e=>{r.appendChild(e)},removeElement:e=>{r.removeChild(e)},updateScore:()=>{c.textContent=10*t.getTime()},updateHearts:()=>{let o=t.getLives()-s.childElementCount;if(o<0)for(;0!=o;)s.removeChild(s.lastChild),o++;else for(;0!=o;)s.appendChild(e()),o--},startRocket:()=>{n=document.querySelector(".rocket")},start:()=>{r.removeChild(document.querySelector(".start")),window.addEventListener("keyup",(e=>{o.checkMove(e.key)})),r.style.animation="moveSky 15s linear infinite"},stop:()=>{window.removeEventListener("keyup",(e=>{o.checkMove(e.key)})),r.style.animation=""}}})();(()=>{let e=document.querySelector("button#start");const t=()=>{o.startGame(),e.removeEventListener("click",t)};e.addEventListener("click",t)})()})();